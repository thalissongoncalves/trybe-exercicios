{"ast":null,"code":"var _jsxFileName = \"/home/thalissonzpyg/turma-29-b/trybe-exercicios/front-end/secao-04-Ciclo-de-Vida-de-Componentes-e-React-Router/dia-01-Ciclo-de-vida-de-componentes/my-interdimensional-app/src/Components/DadJoke.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass DadJoke extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      jokeObj: undefined,\n      loading: true,\n      storedJokes: []\n    };\n    this.saveJoke = this.saveJoke.bind(this);\n  }\n  async fetchJoke() {\n    const requestHeaders = {\n      headers: {\n        Accept: 'application/json'\n      }\n    };\n    const requestReturn = await fetch('https://icanhazdadjoke.com/', requestHeaders);\n    const requestObject = await requestReturn.json();\n    this.setState({\n      jokeObj: requestObject\n    });\n  }\n  componentDidMount() {\n    this.fetchJoke();\n  }\n  saveJoke() {\n    this.setState(_ref => {\n      let {\n        storedJokes,\n        jokeObj\n      } = _ref;\n      return {\n        storedJokes: [...storedJokes, jokeObj]\n      };\n    });\n    this.fetchJoke();\n  }\n  renderJokeElement() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: this.state.jokeObj.joke\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: this.saveJoke,\n        children: \"Salvar piada!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }, this);\n  }\n  render() {\n    const {\n      storedJokes,\n      jokeObj\n    } = this.state;\n    const loadingElement = /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 32\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: storedJokes.map(_ref2 => {\n          let {\n            id,\n            joke\n          } = _ref2;\n          return /*#__PURE__*/_jsxDEV(\"p\", {\n            children: joke\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 58\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: jokeObj ? this.renderJokeElement() : loadingElement\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default DadJoke;","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","DadJoke","Component","constructor","state","jokeObj","undefined","loading","storedJokes","saveJoke","bind","fetchJoke","requestHeaders","headers","Accept","requestReturn","fetch","requestObject","json","setState","componentDidMount","_ref","renderJokeElement","children","joke","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","render","loadingElement","map","_ref2","id"],"sources":["/home/thalissonzpyg/turma-29-b/trybe-exercicios/front-end/secao-04-Ciclo-de-Vida-de-Componentes-e-React-Router/dia-01-Ciclo-de-vida-de-componentes/my-interdimensional-app/src/Components/DadJoke.js"],"sourcesContent":["import React from 'react';\n\nclass DadJoke extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            jokeObj: undefined,\n            loading: true,\n            storedJokes: [],\n        }\n\n        this.saveJoke = this.saveJoke.bind(this);\n    }\n\n    async fetchJoke() {\n        const requestHeaders = { headers: { Accept: 'application/json' } }\n        const requestReturn = await fetch('https://icanhazdadjoke.com/', requestHeaders)\n        const requestObject = await requestReturn.json();\n        this.setState({\n            jokeObj: requestObject,\n        })\n    }\n\n    componentDidMount() {\n        this.fetchJoke();\n    }\n\n    saveJoke() {\n        this.setState(({ storedJokes, jokeObj }) => ({\n            storedJokes: [...storedJokes, jokeObj],\n        }))\n\n        this.fetchJoke();\n    }\n\n    renderJokeElement() {\n        return (\n          <div>\n            <p>{ this.state.jokeObj.joke }</p>\n            <button type=\"button\" onClick={this.saveJoke}>\n              Salvar piada!\n            </button>\n          </div>\n        )\n      }\n\n    render() {\n        const { storedJokes, jokeObj } = this.state;\n        const loadingElement = <span>Loading...</span>;\n\n        return(\n            <div>\n                <span>\n                    { storedJokes.map(({ id, joke }) => (<p key={ id }>{ joke }</p>)) }\n                </span>\n\n                { \n                  <p>{ jokeObj ? this.renderJokeElement() : loadingElement }</p>\n                }\n            </div>\n        );\n    }\n}\n\nexport default DadJoke;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,OAAO,SAASH,KAAK,CAACI,SAAS,CAAC;EAClCC,WAAWA,CAAA,EAAG;IACV,KAAK,EAAE;IAEP,IAAI,CAACC,KAAK,GAAG;MACTC,OAAO,EAAEC,SAAS;MAClBC,OAAO,EAAE,IAAI;MACbC,WAAW,EAAE;IACjB,CAAC;IAED,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACC,IAAI,CAAC,IAAI,CAAC;EAC5C;EAEA,MAAMC,SAASA,CAAA,EAAG;IACd,MAAMC,cAAc,GAAG;MAAEC,OAAO,EAAE;QAAEC,MAAM,EAAE;MAAmB;IAAE,CAAC;IAClE,MAAMC,aAAa,GAAG,MAAMC,KAAK,CAAC,6BAA6B,EAAEJ,cAAc,CAAC;IAChF,MAAMK,aAAa,GAAG,MAAMF,aAAa,CAACG,IAAI,EAAE;IAChD,IAAI,CAACC,QAAQ,CAAC;MACVd,OAAO,EAAEY;IACb,CAAC,CAAC;EACN;EAEAG,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAACT,SAAS,EAAE;EACpB;EAEAF,QAAQA,CAAA,EAAG;IACP,IAAI,CAACU,QAAQ,CAACE,IAAA;MAAA,IAAC;QAAEb,WAAW;QAAEH;MAAQ,CAAC,GAAAgB,IAAA;MAAA,OAAM;QACzCb,WAAW,EAAE,CAAC,GAAGA,WAAW,EAAEH,OAAO;MACzC,CAAC;IAAA,CAAC,CAAC;IAEH,IAAI,CAACM,SAAS,EAAE;EACpB;EAEAW,iBAAiBA,CAAA,EAAG;IAChB,oBACEtB,OAAA;MAAAuB,QAAA,gBACEvB,OAAA;QAAAuB,QAAA,EAAK,IAAI,CAACnB,KAAK,CAACC,OAAO,CAACmB;MAAI;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAM,eAClC5B,OAAA;QAAQ6B,IAAI,EAAC,QAAQ;QAACC,OAAO,EAAE,IAAI,CAACrB,QAAS;QAAAc,QAAA,EAAC;MAE9C;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAS;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACL;EAEV;EAEFG,MAAMA,CAAA,EAAG;IACL,MAAM;MAAEvB,WAAW;MAAEH;IAAQ,CAAC,GAAG,IAAI,CAACD,KAAK;IAC3C,MAAM4B,cAAc,gBAAGhC,OAAA;MAAAuB,QAAA,EAAM;IAAU;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAO;IAE9C,oBACI5B,OAAA;MAAAuB,QAAA,gBACIvB,OAAA;QAAAuB,QAAA,EACMf,WAAW,CAACyB,GAAG,CAACC,KAAA;UAAA,IAAC;YAAEC,EAAE;YAAEX;UAAK,CAAC,GAAAU,KAAA;UAAA,oBAAMlC,OAAA;YAAAuB,QAAA,EAAgBC;UAAI,GAAXW,EAAE;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAe;QAAA,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAC9D,eAGL5B,OAAA;QAAAuB,QAAA,EAAKlB,OAAO,GAAG,IAAI,CAACiB,iBAAiB,EAAE,GAAGU;MAAc;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAM;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAE9D;EAEd;AACJ;AAEA,eAAe3B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}